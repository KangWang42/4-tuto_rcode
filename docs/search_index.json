[["index.html", "科研学帮帮 简介", " 科研学帮帮 wang 2024.10.19 简介 欢迎参观博客：https://wk8686.top/ 我的主页：https://intro.wk8686.top/ Hello there! I’m Wang. ⭐️ From KangWang42 欢迎参观我的blog 扫码关注我的公众号 "],["r语言学习路径和资料.html", "1 R语言学习路径和资料 1.1 声明 1.2 阶段1：下载好r并使用 1.3 阶段2：学习baseR 1.4 阶段3：开始学习tidyverse 1.5 阶段4：学习可视化 1.6 阶段5 统计分析 1.7 阶段5 机器学习等 1.8 阶段6 其他", " 1 R语言学习路径和资料 1.1 声明 内容仅为个人学习的经验，并且并不详细。只为方向性引导，大家学习的时候要多在网络上查找资料 1.2 阶段1：下载好r并使用 先安装最新的R 再安装IDE 最常用的IDE就是Rstudio 我目前用的是positron会出一期专门介绍，但是因为还没正式版，有需要的同学可以去看看更新进展 了解软件的基本窗口和操作 1.3 阶段2：学习baseR 1.3.1 推荐资料 链接：公认R语言学习最好的书，学习起来清晰通俗，学习路线极其明确 1.3.2 学习路线 基础语法：懂得基础的语法知识，安装包，导入包，设定工作路径，使用函数，数据导出 数据结构：画重点，各个数据结构务必要务必了解。向量还是数据框还是列表，都了解后才能get到后续的列表嵌套数据框和数据框嵌套列表 数据处理：主要处理的对象是数据框，操作包括但不限于变量recode，变量筛选，数据框长宽转换，新建变量，重复值处理 数据可视化：可放单独一块学习，前期不用学习 统计分析：可做什么去学什么，前期不用学 机器学习（深度学习）：同上 1.4 阶段3：开始学习tidyverse 1.4.1 推荐资料 R语言编程:最好的tidyverse入门书，确实讲的通俗易懂，作者在知乎上有账号，关注不亏 R数据科学：Hadley Wickham（tidyverse的作者）写的书，讲的很详细，建议细细细细过一遍，获益匪浅 1.4.2 学习路径 直接参考加载包的时候的导入函数，一个个学 library(tidyverse) ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ── ## ✔ dplyr 1.1.4 ✔ readr 2.1.5 ## ✔ forcats 1.0.0 ✔ stringr 1.5.1 ## ✔ ggplot2 3.5.1 ✔ tibble 3.2.1 ## ✔ lubridate 1.9.3 ✔ tidyr 1.3.1 ## ✔ purrr 1.0.2 ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── ## ✖ dplyr::filter() masks stats::filter() ## ✖ dplyr::lag() masks stats::lag() ## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors 学习数据导入(readr) 学习新的数据结构（tibble：datafram优化版） 学习数据处理，变量筛选等(dplyr) 学习字符变量的处理(stringr) 学习因子变量的处理(forcats) 学习数据可视化(ggplot2) 学习函数式循环（purrr）务必要学 1.5 阶段4：学习可视化 1.5.1 学习资料 R数据可视化手册 第2版：系统的看一遍 各大知乎csdn微信公众号关键词搜索：都是宝藏呀 或者来我的云盘看一看 1.6 阶段5 统计分析 推荐一个公众号：R语言实战 平时什么统计分析不会全是知乎教我 1.7 阶段5 机器学习等 mlr3verse包，张敬信大佬可能这两年就会出书介绍 1.8 阶段6 其他 rweekly论坛 tidyverse博客 "],["rmarkdown教程-初学r语言推荐.html", "2 rmarkdown教程-初学r语言推荐 2.1 rmarkdown介绍 2.2 rmarkdown使用 2.3 rmarkdown界面 2.4 rticles包-rmarkdown模板 2.5 rmarkdown的块设置 2.6 更多教程", " 2 rmarkdown教程-初学r语言推荐 2.1 rmarkdown介绍 rmarkdown是一种将r语言代码和markdown语法整合在一起的工具，它可以将r语言代码的执行结果和文字、图片、表格等内容整合在一起，形成一个完整的文档。rmarkdown的文档可以导出为html、pdf、word等格式的文档。rmarkdown的文档可以在github上免费发布，也可以在rstudio上免费发布。rmarkdown的文档可以在 rmarkdown主要用于逐段运行代码并展示结果，生成演示文档，生成html用于其它平台发布，搭配bookdown搭建网页教程 刚学习r语言的同学可以使用rmarkdown来学习r语言，不仅可以在段落中间穿插个人说明，同时用markdown的大纲符号“#”可以让代码结构清晰 2.2 rmarkdown使用 在工具栏新建rmarkdown文档，会生成模板文件，在模板文件的基础上增删修改 2.3 rmarkdown界面 先把yaml里的文档原属性进行修改，作者标题修改一下，后期如果要发布展示会显示在页面最上方 用markdown语法新建大纲标题，用“#”符号，“#”符号越多，标题字号越小 用快捷键“ctrl+alt+i”可以在当前位置插入代码块，用“ctrl+alt+o”可以在当前位置插入输出块 尝试运行自己的代码吧 2.4 rticles包-rmarkdown模板 安装rticles包之后，在新建rmd文件处就能看到不同的模板，选择一个模板，就可以生成一个模板文件，模板文件的内容和模板的内容是一样的，但是模板文件的内容更加完善，模板文件的内容可以直接运行，模板文件的内容可以导出为html、pdf、word等格式的文档，模板文件的内容可以在github上免费发布，也可以在rstudio上免费发布 安装prettydoc包也是一样的效果 2.5 rmarkdown的块设置 rmarkdown主要是用于代码导出结果展示的包，同时在导出时我们会有侧重的设置某些代码块的运行。例如：设置一些块不运行，一些块运行但是不显示信息，一些块运行但是不报错，一些块运行但是不显示结果。 rmd的块设置共有7种，Code evaluation、Results、Code Decoration、Chunks、Cache、Animation、Plots。看起来复杂，其实实际使用到的也就几个，大家先过一遍，以后慢慢熟悉。 2.5.1 如何添加块设置 在块头处和r用空格隔开，不同设置间用“,”隔开 2.5.2 Code evaluation-设置块是否运行 2.5.2.1 eval参数 示例：“eval=F” 可设置不运行代码,注意这里不运行代码，同时代码也不会在输出文档里显示 print(&#39;这是运行结果&#39;) 2.5.2.2 include参数 示例：“include=F” 可设置执行代码，但是在结果输出里隐藏 2.5.3 Results参数,设置结果输出 2.5.3.1 collapse参数 ,为T表示代码和结果一起输出 print(&#39;这是运行结果&#39;) ## [1] &quot;这是运行结果&quot; 2.5.4 echo参数，输出文档是否显示代码 设置为F之后，运行代码，但是只显示结果不显示代码 print(&#39;这是运行结果&#39;) ## [1] &quot;这是运行结果&quot; 2.5.5 error、warning、message为同一类参数，当代码中有警告或者错误信息时是否展示，如果为F时即不展示。 print(&#39;这是运行结果&#39;) ## [1] &quot;这是运行结果&quot; 2.6 更多教程 中间介绍了几个我常用的，更多的rmd教程可直接阅读官方的使用手册 "],["r包推荐-brucer-r包里的瑞士军刀.html", "3 R包推荐-bruceR-r包里的瑞士军刀 3.1 r包介绍 3.2 r包安装 3.3 基础使用 3.4 其它函数", " 3 R包推荐-bruceR-r包里的瑞士军刀 3.1 r包介绍 使用教程 作者在日常工作中集各常用包于大成，凝结出了bruceR，很多内容都是专门为科研而生，减少了很多工作 可以实现以下功能！星标一看！安装即用 设置路径 数据打印和三线表制作 数据编码 数据框的横向计算 一致性检验 探索性因子分析 验证性因子分析 描述统计 统计结果summary 结构方程模型 等等等 3.2 r包安装 CRAN直接安装 或者 github库安装 install.packages(&quot;devtools&quot;) devtools::install_github(&quot;psychbruce/bruceR&quot;, dep=TRUE, force=TRUE) 3.3 基础使用 #install.packages(&quot;bruceR&quot;) library(&quot;bruceR&quot;) 3.3.1 set_wd:设置工作路径 快速将当前r文档路径设为工作路径 set_wd() 3.3.2 import:一个函数导入或导出各种数据 import函数支持但不限于几乎常用数据库的导入 - 文本格式 txt, .csv, .csv2, .tsv, .psv - Excel (.xls, .xlsx) - SPSS (.sav) - Stata (.dta) - R objects (.rda, .rdata, .RData) - R serialized objects (.rds) - Clipboard（on Windows and Mac OS） 3.3.3 print_table：快速生成三线表 print_table(npk) ## ────────────────────── ## block N P K yield ## ────────────────────── ## 1 1 0 1 1 49.500 ## 2 1 1 1 0 62.800 ## 3 1 0 0 0 46.800 ## 4 1 1 0 1 57.000 ## 5 2 1 0 0 59.800 ## 6 2 1 1 1 58.500 ## 7 2 0 0 1 55.500 ## 8 2 0 1 0 56.000 ## 9 3 0 1 0 62.800 ## 10 3 1 1 1 55.800 ## 11 3 1 0 0 69.500 ## 12 3 0 0 1 55.000 ## 13 4 1 0 0 62.000 ## 14 4 1 1 1 48.800 ## 15 4 0 0 1 45.500 ## 16 4 0 1 0 44.200 ## 17 5 1 1 0 52.000 ## 18 5 0 0 0 51.500 ## 19 5 1 0 1 49.800 ## 20 5 0 1 1 48.800 ## 21 6 1 0 1 57.200 ## 22 6 1 1 0 59.000 ## 23 6 0 1 1 53.200 ## 24 6 0 0 0 56.000 ## ────────────────────── #设置导出到doc中 #print_table(npk, file=&quot;&quot;) 3.3.4 model_summary：常用模型结果summary bruceR的model_summary可以对常见的线性非线性，生存分析，结构方程模型等整洁化结果输出。快速生成美观的结果，通过file参数导出到doc文件里 head(airquality, 5) ## Ozone Solar.R Wind Temp Month Day ## 1 41 190 7.4 67 5 1 ## 2 36 118 8.0 72 5 2 ## 3 12 149 12.6 74 5 3 ## 4 18 313 11.5 62 5 4 ## 5 NA NA 14.3 56 5 5 airquality %&gt;% lm(Temp ~ Month + Day + Wind + Solar.R,data=.)%&gt;% model_summary() ## ## Model Summary ## ## ──────────────────────── ## (1) Temp ## ──────────────────────── ## (Intercept) 68.770 *** ## (4.391) ## Month 2.225 *** ## (0.441) ## Day -0.084 ## (0.070) ## Wind -1.003 *** ## (0.176) ## Solar.R 0.027 *** ## (0.007) ## ──────────────────────── ## R^2 0.387 ## Adj. R^2 0.369 ## Num. obs. 146 ## ──────────────────────── ## Note. * p &lt; .05, ** p &lt; .01, *** p &lt; .001. ## ## # Check for Multicollinearity ## ## Low Correlation ## ## Term VIF VIF 95% CI Increased SE Tolerance Tolerance 95% CI ## Month 1.03 [1.00, 4.91] 1.02 0.97 [0.20, 1.00] ## Day 1.02 [1.00, 22.58] 1.01 0.98 [0.04, 1.00] ## Wind 1.03 [1.00, 6.15] 1.02 0.97 [0.16, 1.00] ## Solar.R 1.03 [1.00, 5.32] 1.02 0.97 [0.19, 1.00] 3.3.5 RECODE:recode重新编码 示例用的是datatable包，这个比较难暂时可以不用管 d = data.table(var=c(NA, 0, 1, 2, 3, 4, 5, 6)) d ## var ## &lt;num&gt; ## 1: NA ## 2: 0 ## 3: 1 ## 4: 2 ## 5: 3 ## 6: 4 ## 7: 5 ## 8: 6 d[, `:=`( var.new = RECODE(var, &quot;lo:1=0; c(2,3)=1; 4=2; 5:hi=3; else=999&quot;) )] d ## var var.new ## &lt;num&gt; &lt;num&gt; ## 1: NA 999 ## 2: 0 0 ## 3: 1 0 ## 4: 2 1 ## 5: 3 1 ## 6: 4 2 ## 7: 5 3 ## 8: 6 3 3.4 其它函数 作者应该是把日常能汇总的都汇总到了一起，函数太多了，方法面面都会用到 建议大家可以去作者 包寒吴霜 的知乎主页里学习一番，对r语言的提高大有裨益 "],["compare.html", "4 R包推荐-compareGroups-描述性表一快速生成 4.1 R包介绍 4.2 R包安装 4.3 R包参数", " 4 R包推荐-compareGroups-描述性表一快速生成 第95期 R语言教程！compareGroups神包制作描述性表一 描述性表1在论文写作中占据着开篇起笔的作用。对所用的数据进行描述和简单分析，为后续的模型构建提供数据可靠性信息 本期介绍如何使用compareGroups神包来快速生成符合学术规范的表1。并进行包括以下自定义设置：1.设置亚组 2.设置非正态变量使用非参组间检验 3.设置显示缺失值 4.设置显示OR值 5.设置使用自定义组间比较方法 6 数据导出 4.1 R包介绍 compareGroups 是一个在 CRAN 上可用的 R 包，它可以生成描述性表格，展示几个变量的均值、标准差、分位数或频率。此外，还会使用适当的测试计算 p 值来检验组间差异。 通过简单的代码，就能在 R 中生成美观、规范且可直接用于论文发表的描述性表格。这些表格还可以导出到不同的格式，如 Word、Excel、PDF，或插入到 R-Sweave 或 R-markdown 文档中。 在手册 https://cran.r-project.org/web/packages/compareGroups/vignettes/compareGroups_vignette.html里提供了非常友好的R包教程，描述了 compareGroups 的所有功能，并附有实际示例。 4.2 R包安装 从CRAN中安装R包 install.packages(&quot;compareGroups&quot;) 或者从github安装最新版本 library(devtools) devtools::install_github(&quot;isubirana/compareGroups&quot;) 4.3 R包参数 4.3.1 查看数据 (不重要可以不看，知道是包含多种数据类型的数据集即可)调用R包自带的regicor数据，包含25个变量。regicor（吉罗纳心脏登记）研究是一项横断面研究，参与者来自西班牙东北部地区。在此研究中，收集了参与者的各种数据集，包括人口统计信息（如年龄和性别）、人体测量数据（如身高、体重和腰围）以及脂质水平（包括总胆固醇和甘油三酯）。此外，参与者还完成了涵盖体育活动和生活质量等领域的问卷。 为了追踪健康结果，研究还收集了关于心血管事件和死亡的数据。这些信息是通过医院和官方登记册及报告，在超过10年的时间里获得的。 library(compareGroups) library(bruceR) #之前有介绍过，方便描述数据 # 方便起见，我们只分析前十个变量 data(&quot;regicor&quot;) regicor &lt;- regicor[,1:10] str(regicor) ## &#39;data.frame&#39;: 2294 obs. of 10 variables: ## $ id : num 2.26e+03 1.88e+03 3.00e+09 3.00e+09 3.00e+09 ... ## ..- attr(*, &quot;label&quot;)= Named chr &quot;Individual id&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;id&quot; ## $ year : Factor w/ 3 levels &quot;1995&quot;,&quot;2000&quot;,..: 3 3 2 2 2 2 2 1 3 1 ... ## ..- attr(*, &quot;label&quot;)= Named chr &quot;Recruitment year&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;year&quot; ## $ age : int 70 56 37 69 70 40 66 53 43 70 ... ## ..- attr(*, &quot;label&quot;)= Named chr &quot;Age&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;age&quot; ## $ sex : Factor w/ 2 levels &quot;Male&quot;,&quot;Female&quot;: 2 2 1 2 2 2 1 2 2 1 ... ## ..- attr(*, &quot;label&quot;)= chr &quot;Sex&quot; ## $ smoker : Factor w/ 3 levels &quot;Never smoker&quot;,..: 1 1 2 1 NA 2 1 1 3 3 ... ## ..- attr(*, &quot;label&quot;)= Named chr &quot;Smoking status&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;smoker&quot; ## $ sbp : int 138 139 132 168 NA 108 120 132 95 142 ... ## ..- attr(*, &quot;label&quot;)= Named chr &quot;Systolic blood pressure&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;sbp&quot; ## $ dbp : int 75 89 82 97 NA 70 72 78 65 78 ... ## ..- attr(*, &quot;label&quot;)= Named chr &quot;Diastolic blood pressure&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;dbp&quot; ## $ histhtn: Factor w/ 2 levels &quot;Yes&quot;,&quot;No&quot;: 2 2 2 2 2 2 1 2 2 2 ... ## ..- attr(*, &quot;label&quot;)= Named chr &quot;History of hypertension&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;histbp&quot; ## $ txhtn : Factor w/ 2 levels &quot;No&quot;,&quot;Yes&quot;: 1 1 1 1 1 1 2 1 1 1 ... ## ..- attr(*, &quot;label&quot;)= chr &quot;Hypertension treatment&quot; ## $ chol : num 294 220 245 168 NA NA 298 254 194 188 ... ## ..- attr(*, &quot;label&quot;)= Named chr &quot;Total cholesterol&quot; ## .. ..- attr(*, &quot;names&quot;)= chr &quot;chol&quot; 4.3.2 生成描述性统计表 简单生成一个最简单的描述性统计表，发现定量资料用平均值标准差描述，分类资料用例数和占比描述 descrTable( ~ ., data = regicor) ## ## --------Summary descriptives table --------- ## ## _______________________________________________________ ## [ALL] N ## N=2294 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ## Individual id 1215817624 (1339538686) 2294 ## Recruitment year: 2294 ## 1995 431 (18.8%) ## 2000 786 (34.3%) ## 2005 1077 (46.9%) ## Age 54.7 (11.0) 2294 ## Sex: 2294 ## Male 1101 (48.0%) ## Female 1193 (52.0%) ## Smoking status: 2233 ## Never smoker 1201 (53.8%) ## Current or former &lt; 1y 593 (26.6%) ## Former &gt;= 1y 439 (19.7%) ## Systolic blood pressure 131 (20.3) 2280 ## Diastolic blood pressure 79.7 (10.5) 2280 ## History of hypertension: 2286 ## Yes 723 (31.6%) ## No 1563 (68.4%) ## Hypertension treatment: 2251 ## No 1823 (81.0%) ## Yes 428 (19.0%) ## Total cholesterol 219 (45.2) 2193 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 4.3.3 设置分组变量 根据吸烟情况将人群分为三组，同时生成组间比较列（p.overall）。自动使用卡方检验(分类变量)和方差分析(计量资料：两类时等价t检验)。 descrTable(`smoker`~ ., data = regicor) ## ## --------Summary descriptives table by &#39;Smoking status&#39;--------- ## ## _________________________________________________________________________________________________________ ## Never smoker Current or former &lt; 1y Former &gt;= 1y p.overall ## N=1201 N=593 N=439 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ## Individual id 1229013133 (1337342152) 1534618659 (1372769742) 690225475 (1126583145) &lt;0.001 ## Recruitment year: &lt;0.001 ## 1995 234 (19.5%) 109 (18.4%) 72 (16.4%) ## 2000 414 (34.5%) 267 (45.0%) 77 (17.5%) ## 2005 553 (46.0%) 217 (36.6%) 290 (66.1%) ## Age 56.5 (10.8) 50.6 (10.7) 55.3 (10.6) &lt;0.001 ## Sex: &lt;0.001 ## Male 301 (25.1%) 410 (69.1%) 360 (82.0%) ## Female 900 (74.9%) 183 (30.9%) 79 (18.0%) ## Systolic blood pressure 132 (20.5) 128 (19.8) 133 (19.7) &lt;0.001 ## Diastolic blood pressure 79.5 (10.2) 78.8 (11.0) 81.2 (10.8) 0.001 ## History of hypertension: &lt;0.001 ## Yes 421 (35.1%) 125 (21.2%) 162 (36.9%) ## No 777 (64.9%) 464 (78.8%) 277 (63.1%) ## Hypertension treatment: &lt;0.001 ## No 922 (77.9%) 525 (90.2%) 331 (77.2%) ## Yes 262 (22.1%) 57 (9.79%) 98 (22.8%) ## Total cholesterol 220 (46.7) 219 (44.7) 214 (42.6) 0.039 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 4.3.4 删除某些变量不显示 如不希望描述性统计对Id和year进行描述，直接在~右侧的.后使用减号进行删除（如需要的变量比较少，也可以手动写公式一个个加） descrTable(`smoker`~ .-id-year, data = regicor) ## ## --------Summary descriptives table by &#39;Smoking status&#39;--------- ## ## ___________________________________________________________________________________ ## Never smoker Current or former &lt; 1y Former &gt;= 1y p.overall ## N=1201 N=593 N=439 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ## Age 56.5 (10.8) 50.6 (10.7) 55.3 (10.6) &lt;0.001 ## Sex: &lt;0.001 ## Male 301 (25.1%) 410 (69.1%) 360 (82.0%) ## Female 900 (74.9%) 183 (30.9%) 79 (18.0%) ## Systolic blood pressure 132 (20.5) 128 (19.8) 133 (19.7) &lt;0.001 ## Diastolic blood pressure 79.5 (10.2) 78.8 (11.0) 81.2 (10.8) 0.001 ## History of hypertension: &lt;0.001 ## Yes 421 (35.1%) 125 (21.2%) 162 (36.9%) ## No 777 (64.9%) 464 (78.8%) 277 (63.1%) ## Hypertension treatment: &lt;0.001 ## No 922 (77.9%) 525 (90.2%) 331 (77.2%) ## Yes 262 (22.1%) 57 (9.79%) 98 (22.8%) ## Total cholesterol 220 (46.7) 219 (44.7) 214 (42.6) 0.039 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 4.3.5 亚组描述 subset=(逻辑判断)来挑选出男性患者进行分析 descrTable(`smoker`~ .-id-year-sex, data = regicor, subset=(sex==&quot;Male&quot;)) ## ## --------Summary descriptives table by &#39;smoker&#39;--------- ## ## ___________________________________________________________________________________ ## Never smoker Current or former &lt; 1y Former &gt;= 1y p.overall ## N=301 N=410 N=360 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ## Age 55.0 (11.5) 52.7 (11.0) 56.8 (10.5) &lt;0.001 ## Systolic blood pressure 133 (18.5) 133 (19.0) 136 (19.0) 0.048 ## Diastolic blood pressure 81.3 (9.31) 81.2 (10.6) 82.3 (10.4) 0.253 ## History of hypertension: &lt;0.001 ## Yes 85 (28.4%) 101 (24.8%) 145 (40.3%) ## No 214 (71.6%) 306 (75.2%) 215 (59.7%) ## Hypertension treatment: &lt;0.001 ## No 248 (83.5%) 357 (88.4%) 263 (75.1%) ## Yes 49 (16.5%) 47 (11.6%) 87 (24.9%) ## Total cholesterol 213 (44.0) 221 (41.9) 216 (43.3) 0.061 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 4.3.6 自定义设置分组检验方法 设置mehtod参数值，如果不设置，默认所有变量符合正态分布。修改age为非正态后使用四分位数进行描述，同时使用非参检验进行分组比较 参数值为1：正态分布分析 ：此值强制分析假设行变量遵循正态分布。 参数值为2：连续非正态分析 ：选择此值意味着分析不假设行变量遵循正态分布，将其视为连续但非正态分布的变量。 参数值为3：分类分析：此值强制分析将行变量视为分类变量，无论其原始类型如何。 参数值为4：Shapiro-Wilks检验 （正态检验）：使用此值触发Shapiro-Wilks检验，以确定变量是否应在正态性假设下进行分析，还是非正态。这对于根据数据做出如何处理每个变量的决策非常有用。 # descrTable(`smoker`~ .-id-year, data = regicor,method = 1) 假定所有变量符合正态分布 #设置age变量为非正态，使用非参检验进行比较 descrTable(`sex`~ .-id-year, data = regicor, method=c(age = 2)) ## ## --------Summary descriptives table by &#39;Sex&#39;--------- ## ## ______________________________________________________________________ ## Male Female p.overall ## N=1101 N=1193 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ## Age 54.0 [46.0;64.0] 55.0 [46.0;64.0] 0.851 ## Smoking status: &lt;0.001 ## Never smoker 301 (28.1%) 900 (77.5%) ## Current or former &lt; 1y 410 (38.3%) 183 (15.7%) ## Former &gt;= 1y 360 (33.6%) 79 (6.80%) ## Systolic blood pressure 134 (18.9) 129 (21.2) &lt;0.001 ## Diastolic blood pressure 81.7 (10.2) 77.8 (10.5) &lt;0.001 ## History of hypertension: 0.644 ## Yes 341 (31.1%) 382 (32.1%) ## No 755 (68.9%) 808 (67.9%) ## Hypertension treatment: 0.096 ## No 889 (82.5%) 934 (79.6%) ## Yes 189 (17.5%) 239 (20.4%) ## Total cholesterol 217 (42.7) 220 (47.4) 0.140 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 4.3.7 不显示标签label值 有些数据集自带label，可以通过include.label设置是否显示标签 descrTable(`sex`~ .-id-year, data = regicor, include.label= FALSE) ## ## --------Summary descriptives table by &#39;sex&#39;--------- ## ## ____________________________________________________________ ## Male Female p.overall ## N=1101 N=1193 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ## age 54.8 (11.1) 54.7 (11.0) 0.840 ## smoker: &lt;0.001 ## Never smoker 301 (28.1%) 900 (77.5%) ## Current or former &lt; 1y 410 (38.3%) 183 (15.7%) ## Former &gt;= 1y 360 (33.6%) 79 (6.80%) ## sbp 134 (18.9) 129 (21.2) &lt;0.001 ## dbp 81.7 (10.2) 77.8 (10.5) &lt;0.001 ## histhtn: 0.644 ## Yes 341 (31.1%) 382 (32.1%) ## No 755 (68.9%) 808 (67.9%) ## txhtn: 0.096 ## No 889 (82.5%) 934 (79.6%) ## Yes 189 (17.5%) 239 (20.4%) ## chol 217 (42.7) 220 (47.4) 0.140 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 4.3.8 设置计量资料用四分位法描述 设置Q1参数和Q3参数设置如何描述非正态连续变量。如果设置成0和1就是最小值最大值描述 descrTable(`sex`~ .-id-year, data = regicor,method = c(age=2), Q1=0.025, Q3=0.975) ## ## --------Summary descriptives table by &#39;Sex&#39;--------- ## ## ______________________________________________________________________ ## Male Female p.overall ## N=1101 N=1193 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ## Age 54.0 [36.0;73.0] 55.0 [36.0;73.0] 0.851 ## Smoking status: &lt;0.001 ## Never smoker 301 (28.1%) 900 (77.5%) ## Current or former &lt; 1y 410 (38.3%) 183 (15.7%) ## Former &gt;= 1y 360 (33.6%) 79 (6.80%) ## Systolic blood pressure 134 (18.9) 129 (21.2) &lt;0.001 ## Diastolic blood pressure 81.7 (10.2) 77.8 (10.5) &lt;0.001 ## History of hypertension: 0.644 ## Yes 341 (31.1%) 382 (32.1%) ## No 755 (68.9%) 808 (67.9%) ## Hypertension treatment: 0.096 ## No 889 (82.5%) 934 (79.6%) ## Yes 189 (17.5%) 239 (20.4%) ## Total cholesterol 217 (42.7) 220 (47.4) 0.140 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 4.3.9 生成OR和HR值 使用show.ratio变量来显示OR值，对于变量类型是time-to-event变量则输出HR值 descrTable(`sex`~ .-id-year, data = regicor,show.ratio = TRUE) ## ## --------Summary descriptives table by &#39;Sex&#39;--------- ## ## _____________________________________________________________________________________ ## Male Female OR p.ratio p.overall ## N=1101 N=1193 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ## Age 54.8 (11.1) 54.7 (11.0) 1.00 [0.99;1.01] 0.840 0.840 ## Smoking status: &lt;0.001 ## Never smoker 301 (28.1%) 900 (77.5%) Ref. Ref. ## Current or former &lt; 1y 410 (38.3%) 183 (15.7%) 0.15 [0.12;0.19] 0.000 ## Former &gt;= 1y 360 (33.6%) 79 (6.80%) 0.07 [0.06;0.10] 0.000 ## Systolic blood pressure 134 (18.9) 129 (21.2) 0.99 [0.98;0.99] &lt;0.001 &lt;0.001 ## Diastolic blood pressure 81.7 (10.2) 77.8 (10.5) 0.96 [0.96;0.97] &lt;0.001 &lt;0.001 ## History of hypertension: 0.644 ## Yes 341 (31.1%) 382 (32.1%) Ref. Ref. ## No 755 (68.9%) 808 (67.9%) 0.96 [0.80;1.14] 0.612 ## Hypertension treatment: 0.096 ## No 889 (82.5%) 934 (79.6%) Ref. Ref. ## Yes 189 (17.5%) 239 (20.4%) 1.20 [0.97;1.49] 0.086 ## Total cholesterol 217 (42.7) 220 (47.4) 1.00 [1.00;1.00] 0.141 0.140 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 4.3.9.1 设置OR值的ref对照 使用ref参数设置变量的ref对照值。代码所示为把smoker的因子level为3（值为”Former&gt;=1y”）的设置为对照组计算其它组的OR值 同样作用的函数还有ref.no 和 ref.y descrTable(`sex`~ .-id-year, data = regicor, include.label = FALSE,show.ratio = TRUE, ref = c(smoker=3)) ## ## --------Summary descriptives table by &#39;sex&#39;--------- ## ## _____________________________________________________________________________________ ## Male Female OR p.ratio p.overall ## N=1101 N=1193 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ## age 54.8 (11.1) 54.7 (11.0) 1.00 [0.99;1.01] 0.840 0.840 ## smoker: &lt;0.001 ## Never smoker 301 (28.1%) 900 (77.5%) 13.6 [10.4;18.0] 0.000 ## Current or former &lt; 1y 410 (38.3%) 183 (15.7%) 2.03 [1.51;2.75] &lt;0.001 ## Former &gt;= 1y 360 (33.6%) 79 (6.80%) Ref. Ref. ## sbp 134 (18.9) 129 (21.2) 0.99 [0.98;0.99] &lt;0.001 &lt;0.001 ## dbp 81.7 (10.2) 77.8 (10.5) 0.96 [0.96;0.97] &lt;0.001 &lt;0.001 ## histhtn: 0.644 ## Yes 341 (31.1%) 382 (32.1%) Ref. Ref. ## No 755 (68.9%) 808 (67.9%) 0.96 [0.80;1.14] 0.612 ## txhtn: 0.096 ## No 889 (82.5%) 934 (79.6%) Ref. Ref. ## Yes 189 (17.5%) 239 (20.4%) 1.20 [0.97;1.49] 0.086 ## chol 217 (42.7) 220 (47.4) 1.00 [1.00;1.00] 0.141 0.140 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 4.3.10 不显示对照组的描述信息 使用hide.no来隐藏某些因子水平的描述。常用来隐藏掉2分类变量的否的信息 descrTable(`sex`~ .-id-year, data = regicor,hide.no = &quot;No&quot;) ## ## --------Summary descriptives table by &#39;Sex&#39;--------- ## ## ____________________________________________________________ ## Male Female p.overall ## N=1101 N=1193 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ## Age 54.8 (11.1) 54.7 (11.0) 0.840 ## Smoking status: &lt;0.001 ## Never smoker 301 (28.1%) 900 (77.5%) ## Current or former &lt; 1y 410 (38.3%) 183 (15.7%) ## Former &gt;= 1y 360 (33.6%) 79 (6.80%) ## Systolic blood pressure 134 (18.9) 129 (21.2) &lt;0.001 ## Diastolic blood pressure 81.7 (10.2) 77.8 (10.5) &lt;0.001 ## History of hypertension 341 (31.1%) 382 (32.1%) 0.644 ## Hypertension treatment 189 (17.5%) 239 (20.4%) 0.096 ## Total cholesterol 217 (42.7) 220 (47.4) 0.140 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 4.3.11 同时显示总人群的描述 descrTable(`sex`~ .-id-year, data = regicor,show.all = TRUE) ## ## --------Summary descriptives table by &#39;Sex&#39;--------- ## ## _________________________________________________________________________ ## [ALL] Male Female p.overall ## N=2294 N=1101 N=1193 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ ## Age 54.7 (11.0) 54.8 (11.1) 54.7 (11.0) 0.840 ## Smoking status: &lt;0.001 ## Never smoker 1201 (53.8%) 301 (28.1%) 900 (77.5%) ## Current or former &lt; 1y 593 (26.6%) 410 (38.3%) 183 (15.7%) ## Former &gt;= 1y 439 (19.7%) 360 (33.6%) 79 (6.80%) ## Systolic blood pressure 131 (20.3) 134 (18.9) 129 (21.2) &lt;0.001 ## Diastolic blood pressure 79.7 (10.5) 81.7 (10.2) 77.8 (10.5) &lt;0.001 ## History of hypertension: 0.644 ## Yes 723 (31.6%) 341 (31.1%) 382 (32.1%) ## No 1563 (68.4%) 755 (68.9%) 808 (67.9%) ## Hypertension treatment: 0.096 ## No 1823 (81.0%) 889 (82.5%) 934 (79.6%) ## Yes 428 (19.0%) 189 (17.5%) 239 (20.4%) ## Total cholesterol 219 (45.2) 217 (42.7) 220 (47.4) 0.140 ## ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ 4.3.12 结果导出 可导出各种格式,export2xls, export2latex, export2pdf, export2csv, export2md, export2word {r} #直接导出到docx中，其它函数语法差不多} #export2word(tab_0,file=\"1 data_summary.docx\") 4.3.13 快速可视化 使用plot函数进行可视化，设置file和type参数进行保存例如 plot(res[c(1,2)], file=“./figures/univar/”, type=“png”) tab0 &lt;- descrTable(`sex`~ .-id-year, data = regicor) plot(tab0) "],["r可视化教程-r语言配色教程.html", "5 R可视化教程-R语言配色教程 5.1 基础工作 5.2 使用RColorBrewer包设置颜色 5.3 使用ggsci包设置颜色 5.4 其它实用r包", " 5 R可视化教程-R语言配色教程 第98期 R语言教程 科研绘图配色常用R包 在r语言，ggplot2绘图过程中最重要的一部分就是配色的选择。优秀的配色要充分考虑到颜色的区分度，期刊要求，冷暖特点等 本期介绍如何调整r语言中的配色，使整个图片美观优雅 5.1 基础工作 5.1.1 加载数据 library(bruceR) ## ## bruceR (v2024.6) ## Broadly Useful Convenient and Efficient R functions ## ## Packages also loaded: ## ✔ data.table ✔ emmeans ## ✔ dplyr ✔ lmerTest ## ✔ tidyr ✔ effectsize ## ✔ stringr ✔ performance ## ✔ ggplot2 ✔ interactions ## ## Main functions of `bruceR`: ## cc() Describe() TTEST() ## add() Freq() MANOVA() ## .mean() Corr() EMMEANS() ## set.wd() Alpha() PROCESS() ## import() EFA() model_summary() ## print_table() CFA() lavaan_summary() ## ## For full functionality, please install all dependencies: ## install.packages(&quot;bruceR&quot;, dep=TRUE) ## ## Online documentation: ## https://psychbruce.github.io/bruceR ## ## To use this package in publications, please cite: ## Bao, H.-W.-S. (2024). bruceR: Broadly useful convenient and efficient R functions (Version 2024.6) [Computer software]. https://CRAN.R-project.org/package=bruceR library(ggplot2) data(iris) head(iris, 10) ## Sepal.Length Sepal.Width Petal.Length Petal.Width Species ## 1 5.1 3.5 1.4 0.2 setosa ## 2 4.9 3.0 1.4 0.2 setosa ## 3 4.7 3.2 1.3 0.2 setosa ## 4 4.6 3.1 1.5 0.2 setosa ## 5 5.0 3.6 1.4 0.2 setosa ## 6 5.4 3.9 1.7 0.4 setosa ## 7 4.6 3.4 1.4 0.3 setosa ## 8 5.0 3.4 1.5 0.2 setosa ## 9 4.4 2.9 1.4 0.2 setosa ## 10 4.9 3.1 1.5 0.1 setosa 5.1.2 使用r默认配色方案 ggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) + geom_bar(stat = &quot;identity&quot;) + labs(title = &quot;Sepal Length by Species&quot;, x = &quot;Species&quot;, y = &quot;Sepal Length&quot;) + theme_minimal() 5.1.3 ggplot2手动调色 ggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) + geom_bar(stat = &quot;identity&quot;) + labs(title = &quot;Sepal Length by Species&quot;, x = &quot;Species&quot;, y = &quot;Sepal Length&quot;) + theme_minimal()+ scale_fill_manual(values = c(&quot;black&quot;, &quot;grey&quot;, &quot;brown&quot;)) 5.2 使用RColorBrewer包设置颜色 5.2.1 Rcolorbrew介绍 CRAN库:CRAN: Package RColorBrewer (r-project.org) 调用网站https://colorbrewer2.org/上的配色方案,使用人数众多,整体比较中规中矩 library(RColorBrewer) 5.2.2 查看配色盘，选择3颜色，区分色 先display配色,查看目标色数和色型 选择合适的调色盘,在ggplot中使用 scale_*_brewer调用 display.brewer.all(3, type = &#39;div&#39;) 5.2.3 ggplot2建立柱状图可视化 ggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) + geom_bar(stat = &quot;identity&quot;) + labs(title = &quot;Sepal Length by Species&quot;, x = &quot;Species&quot;, y = &quot;Sepal Length&quot;) + theme_minimal()+ scale_fill_brewer(palette = &quot;Spectral&quot;) 5.3 使用ggsci包设置颜色 5.3.1 R包介绍 ggsci包含期刊或软件的经典配色,投稿时调用快,效果好,顺手就用上了我用该包配色最多 CRAN库:CRAN: Package ggsci (r-project.org) 教程:Scientific Journal and Sci-Fi Themed Color Palettes for ggplot2 (r-project.org) library(ggsci) 5.3.2 配色方案 Name Scales Palette Types Palette Generator NPG scale_color_npg() scale_fill_npg() \"nrc\" pal_npg() AAAS scale_color_aaas() scale_fill_aaas() \"default\" pal_aaas() NEJM scale_color_nejm() scale_fill_nejm() \"default\" pal_nejm() Lancet scale_color_lancet() scale_fill_lancet() \"lanonc\" pal_lancet() JAMA scale_color_jama() scale_fill_jama() \"default\" pal_jama() BMJ scale_color_bmj() scale_fill_bmj() \"default\" pal_bmj() JCO scale_color_jco() scale_fill_jco() \"default\" pal_jco() UCSCGB scale_color_ucscgb() scale_fill_ucscgb() \"default\" pal_ucscgb() D3 scale_color_d3()``scale_fill_d3() \"category10\" \"category20\" \"category20b\" \"category20c\" pal_d3() Observable scale_color_observable() scale_fill_observable() \"observable10\" pal_observable() LocusZoom scale_color_locuszoom() scale_fill_locuszoom() \"default\" pal_locuszoom() IGV scale_color_igv() scale_fill_igv() \"default\"``\"alternating\" pal_igv() COSMIC scale_color_cosmic() scale_fill_cosmic() \"hallmarks_light\"``\"hallmarks_dark\"``\"signature_substitutions\" pal_cosmic() UChicago scale_color_uchicago() scale_fill_uchicago() \"default\"``\"light\"``\"dark\" pal_uchicago() Star Trek scale_color_startrek() scale_fill_startrek() \"uniform\" pal_startrek() Tron Legacy scale_color_tron() scale_fill_tron() \"legacy\" pal_tron() Futurama scale_color_futurama() scale_fill_futurama() \"planetexpress\" pal_futurama() Rick and Morty scale_color_rickandmorty() scale_fill_rickandmorty() \"schwifty\" pal_rickandmorty() The Simpsons scale_color_simpsons() scale_fill_simpsons() \"springfield\" pal_simpsons() Flat UI scale_color_flatui() scale_fill_flatui() \"default\" \"flattastic\" \"aussie\" pal_flatui() Frontiers scale_color_frontiers() scale_fill_frontiers() \"default\" pal_frontiers() GSEA scale_color_gsea() scale_fill_gsea() \"default\" pal_gsea() Bootstrap 5 scale_color_bs5() scale_fill_bs5() \"blue\" \"indigo\"``\"purple\" \"pink\"``\"red\" \"orange\"``\"yellow\" \"green\"``\"teal\" \"cyan\"``\"gray\" pal_bs5() Material Design scale_color_material() scale_fill_material() \"red\" \"pink\"``\"purple\" \"deep-purple\"``\"indigo\" \"blue\"``\"light-blue\" \"cyan\"``\"teal\" \"green\"``\"light-green\" \"lime\"``\"yellow\" \"amber\"``\"orange\" \"deep-orange\"``\"brown\" \"grey\"``\"blue-grey\" pal_material() Tailwind CSS scale_color_tw3() scale_fill_tw3() \"slate\" \"gray\"``\"zinc\" \"neutral\"``\"stone\" \"red\"``\"orange\" \"amber\"``\"yellow\" \"lime\"``\"green\" \"emerald\"``\"teal\" \"cyan\"``\"sky\" \"blue\"``\"indigo\" \"violet\"``\"purple\" \"fuchsia\"``\"pink\" \"rose\" pal_tw3() 5.3.3 柳叶刀配色 ggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) + geom_bar(stat = &quot;identity&quot;) + labs(title = &quot;Sepal Length by Species&quot;, x = &quot;Species&quot;, y = &quot;Sepal Length&quot;) + theme_minimal()+ scale_fill_lancet() 5.4 其它实用r包 5.4.1 viridis: Colorblind-Friendly Color Maps for R 5.4.1.1 介绍 官方仓库:CRAN: Package viridis (r-project.org) 教程:Introduction to the viridis color maps (r-project.org) 多用于连续渐变色 5.4.1.2 使用效果 色盘 使用方案参考 5.4.2 使用MetBrewer包设置颜色 5.4.2.1 r包介绍 官方CRAN库:CRAN: Package MetBrewer (r-project.org) 配色方案参考纽约大都会艺术博物馆,艺术感爆表一起来看看 library(MetBrewer) 5.4.2.2 查看配色盘，选择3颜色，区分色 ggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) + geom_bar(stat = &quot;identity&quot;) + labs(title = &quot;Sepal Length by Species&quot;, x = &quot;Species&quot;, y = &quot;Sepal Length&quot;) + theme_minimal()+ scale_fill_manual(values = met.brewer(&quot;Austria&quot;)) ggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) + geom_bar(stat = &quot;identity&quot;) + labs(title = &quot;Sepal Length by Species&quot;, x = &quot;Species&quot;, y = &quot;Sepal Length&quot;) + theme_minimal()+ scale_fill_manual(values = met.brewer(&quot;Degas&quot;)) 最后看看好看 "]]
